<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mobile Price Predictor</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-white min-h-screen p-6">
  <div class="max-w-5xl mx-auto bg-white p-10 rounded-2xl shadow-xl border border-gray-100">
    <h1 class="text-3xl font-bold mb-8 text-center text-blue-700">ðŸ“± Mobile Price Predictor</h1>

    <form id="predict-form" class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Field Group: Label + Input -->
      <div>
        <label for="battery_power" class="block mb-1 font-semibold text-gray-800">Battery Power (mAh)</label>
        <input type="number" id="battery_power" name="battery_power" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="blue" class="block mb-1 font-semibold text-gray-800">Bluetooth</label>
        <select id="blue" name="blue" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
          <option value="1">Yes</option>
          <option value="0">No</option>
        </select>
      </div>

      <div>
        <label for="clock_speed" class="block mb-1 font-semibold text-gray-800">Clock Speed (GHz)</label>
        <input type="number" step="0.1" id="clock_speed" name="clock_speed" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="dual_sim" class="block mb-1 font-semibold text-gray-800">Dual SIM</label>
        <select id="dual_sim" name="dual_sim" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
          <option value="1">Yes</option>
          <option value="0">No</option>
        </select>
      </div>

      <div>
        <label for="fc" class="block mb-1 font-semibold text-gray-800">Front Camera (MP)</label>
        <input type="number" id="fc" name="fc" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="four_g" class="block mb-1 font-semibold text-gray-800">4G</label>
        <select id="four_g" name="four_g" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
          <option value="1">Yes</option>
          <option value="0">No</option>
        </select>
      </div>

      <div>
        <label for="int_memory" class="block mb-1 font-semibold text-gray-800">Internal Memory (GB)</label>
        <input type="number" id="int_memory" name="int_memory" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="m_dep" class="block mb-1 font-semibold text-gray-800">Mobile Depth (cm)</label>
        <input type="number" step="0.1" id="m_dep" name="m_dep" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="mobile_wt" class="block mb-1 font-semibold text-gray-800">Mobile Weight (g)</label>
        <input type="number" id="mobile_wt" name="mobile_wt" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="n_cores" class="block mb-1 font-semibold text-gray-800">Processor Cores</label>
        <input type="number" id="n_cores" name="n_cores" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="pc" class="block mb-1 font-semibold text-gray-800">Primary Camera (MP)</label>
        <input type="number" id="pc" name="pc" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="px_height" class="block mb-1 font-semibold text-gray-800">Pixel Height</label>
        <input type="number" id="px_height" name="px_height" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="px_width" class="block mb-1 font-semibold text-gray-800">Pixel Width</label>
        <input type="number" id="px_width" name="px_width" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="ram" class="block mb-1 font-semibold text-gray-800">RAM (MB)</label>
        <input type="number" id="ram" name="ram" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="sc_h" class="block mb-1 font-semibold text-gray-800">Screen Height (cm)</label>
        <input type="number" id="sc_h" name="sc_h" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="sc_w" class="block mb-1 font-semibold text-gray-800">Screen Width (cm)</label>
        <input type="number" id="sc_w" name="sc_w" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="talk_time" class="block mb-1 font-semibold text-gray-800">Talk Time (hours)</label>
        <input type="number" id="talk_time" name="talk_time" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" required />
      </div>

      <div>
        <label for="three_g" class="block mb-1 font-semibold text-gray-800">3G</label>
        <select id="three_g" name="three_g" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
          <option value="1">Yes</option>
          <option value="0">No</option>
        </select>
      </div>

      <div>
        <label for="touch_screen" class="block mb-1 font-semibold text-gray-800">Touchscreen</label>
        <select id="touch_screen" name="touch_screen" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
          <option value="1">Yes</option>
          <option value="0">No</option>
        </select>
      </div>

      <div>
        <label for="wifi" class="block mb-1 font-semibold text-gray-800">WiFi</label>
        <select id="wifi" name="wifi" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
          <option value="1">Yes</option>
          <option value="0">No</option>
        </select>
      </div>
    </form>

    <button onclick="predict()" class="mt-8 w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition duration-200">
      Predict
    </button>

    <div id="result" class="mt-6 text-2xl font-bold text-center text-green-600"></div>
  </div>

  <script>
    async function predict() {
      const form = document.getElementById('predict-form');
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());

      // Convert values to appropriate numeric types
      Object.keys(data).forEach(key => {
        data[key] = data[key].includes('.') ? parseFloat(data[key]) : parseInt(data[key]);
      });

      try {
        const response = await fetch("http://localhost:8000/predict", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data),
        });

        const result = await response.json();
        document.getElementById("result").innerText = `Predicted Price Range: ${result.price_category}`;
      } catch (error) {
        document.getElementById("result").innerText = "Error: Could not get prediction.";
      }
    }
  </script>
</body>
</html>
